# hadoop

## 主体构成

![image-20241227110152458](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227110152458.png)

## HDFS

Hadoop Distributed File System的简称

### Namenode 

负责构建命名空间，管理文件的元数据等

### Datanode

Datanode负责实际存储数据，负责读写工作。

## MapReduce

### Map

就是将海量大数据拆分成若干份小数据，多个程序同时并行计算出自己的结果

### Reduce

将【Map】阶段求得的所有结果汇总，最终得到想要的数据结果

### 完整流程

![image-20241227110009847](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227110009847.png)

### 【YARN】的集群[MapReduce工作流程]

![image-20241227110047356](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227110047356.png)

## YARN

YARN的基本核心思想是将资源管理和作业调度从特定的计算框架（如MapReduce）中分离出来使其成为单独的守护进程，使得Hadoop集群能够更通用地支持多种类型的应用程序和工作负载。

![image-20241227110225173](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227110225173.png)

### 示例

![image-20241227110241238](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227110241238.png)



## 总结

Hadoop中可以用于利用的知识包括 MapReduce 和Yarn的相关部分

其中，MapReduce很好的展示了一种可行的分布式计算方案，先分配任务，最后做个汇总。

而Yarn管理着全部的资源，当有任务过来的时候，根据所掌握的资源进行分配。

## 经验

在本RPC项目中，可以参考Yarn中的资源管理，设置多台机器，灵活增加或减少对应任务所分配的机器数量。而MapReduce相关内容暂时用不上，因为MapReduce对应的是大量数据中进行计算处理，而一般RPC中的任务不会设计相关内容。待后续考察



# 论文架构

### 背景

### 评价指标，意义，概念

### 实现的理论构思

### 实现的具体内容

### 测试

### 未来展望



# RPC

## 背景

RPC（Remote Procedure Call，远程过程调用）框架的开发背景与分布式系统的发展密切相关。随着互联网规模的扩大和技术的进步，传统的**单体应用架构逐渐难以满足日益增长的需求**，如高并发、大数据量处理等。这促使了微服务架构的兴起，其中各个服务可以独立部署、扩展和维护，而这些服务之间往往需要通过网络进行通信。

在这种背景下，RPC作为一种高效的跨进程通信机制被广泛应用。它允许程序像调用本地函数一样调用位于远程服务器上的方法，隐藏了底层的网络通信细节，简化了分布式系统的开发复杂度。具体来说，开发RPC框架的背景包括但不限于以下几个方面：

### 1. **单体架构的局限性**

- **问题**：早期应用多为单体架构，所有功能集中在一个进程中。随着业务复杂化，单体应用变得臃肿，开发、维护和扩展困难。
- **需求**：需将系统拆分为多个独立服务（微服务架构），但服务间需要高效通信。RPC框架提供了一种标准化的远程调用方式，简化服务拆分后的协作。

------

### 2. **分布式系统的复杂性**

- **跨节点通信**：分布式系统中，服务部署在不同物理节点，需要通过网络进行通信。直接使用底层协议（如TCP/HTTP）开发成本高且重复。
- **抽象需求**：RPC框架封装了网络通信、序列化、负载均衡等细节，让开发者像调用本地函数一样调用远程服务，降低分布式开发门槛。

------

### 3. **性能与效率优化**

- **高效通信**：相比HTTP协议（基于文本、无状态），RPC框架通常采用二进制协议（如Protobuf、Thrift）和长连接，减少传输开销，提升吞吐量和延迟。
- **复用连接**：通过连接池、多路复用等技术，避免频繁建立/断开连接的开销，优化资源利用率。

------

### 4. **服务治理需求**

- **动态扩展**：服务实例可能动态增减，需自动发现服务地址（服务发现）和负载均衡。
- **容错机制**：网络不稳定时需重试、熔断、降级等策略保证系统可用性。
- **监控与可观测性**：需跟踪调用链路（如分布式追踪）、监控性能指标（如QPS、延迟）、记录日志等。
- RPC框架集成这些治理能力，避免开发者重复实现。

------

### 5. **跨语言协作**

- **异构系统整合**：大型系统中，不同服务可能用不同语言（如Java、Go、Python）开发，需跨语言通信。
- **统一协议**：RPC框架（如gRPC、Thrift）通过IDL（接口定义语言）定义服务接口，生成多语言客户端/服务端代码，解决跨语言兼容性问题。

------

### 6. **技术演进与开源生态**

- **历史经验**：早期技术（如CORBA、Java RMI）因复杂性和跨语言支持不足被淘汰，现代RPC框架（如Dubbo、gRPC）吸取经验，设计更轻量、易用。
- **社区推动**：开源社区和云厂商（如Google的gRPC、Apache的Dubbo）推动RPC框架标准化和普及，形成成熟生态。

------

### 7. **云原生与微服务趋势**

- **微服务架构**：强调服务细粒度拆分和独立部署，RPC是微服务间通信的核心技术。
- **云原生基础设施**：Kubernetes等平台需要服务具备弹性伸缩和自愈能力，RPC框架与服务网格（如Istio）结合，进一步抽象通信层。



## 本地架构

### 结构

![image-20241227111250886](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227111250886.png)

#### 公共模块

提供公共内容，给服务提供者及消费者提供基础的功能。包括一些工具

![image-20241227111500087](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227111500087.png)

#### 服务提供者

提供服务

![image-20241227111548139](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227111548139.png)

#### 服务消费者

消费服务

![image-20241227111528635](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227111528635.png)

#### rpc模块

![image-20241227111605946](C:\Users\17877\AppData\Roaming\Typora\typora-user-images\image-20241227111605946.png)

提供RPC功能

包括：

web服务器

本地服务注册器

序列化器

提供者调用请求处理器

消费者发起调用代理





